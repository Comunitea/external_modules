<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="purchase_product_custom_tree" model="ir.ui.view">
        <field name="name">purchase.product.custom.tree</field>
        <field name="model">product.product</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Purchase Products" create="false" >
                <field name="default_code" readonly="True"/>
                <field name="name" readonly="True"  />
                <field name="attribute_value_ids" widget="many2many_tags" groups="product.group_product_variant"/>
                <field name="categ_id" readonly="True"/>
                <field name="twelve_months_ago"  readonly="True"/>
                <field name="six_months_ago"  readonly="True"/>
                <field name="last_month_ago"  readonly="True"/>
                <field name="virtual_available" string="Forecasted"/>
                <field name="qty_available" string="On Hand"/>
                <field name="reordering_min_qty" />
                <field name="reordering_max_qty" />
                <field name="company_id" groups="base.group_multi_company" invisible="1"/>
                <field name="main_supplier_id"/>
                <field name="supplier_min_qty"/>
                <field name="supplier_price"/>
                <field name="supplier_delay"/>
                <field name="purchase_qty"/>
                <field name="actual_po_id"/>
                <field name="uom_id" groups="uom.group_uom" />
            </tree>
        </field>
    </record>

    <record id="view_product_main_supplier_inherit" model="ir.ui.view">
        <field name="name">product.template.main.supplier.form.inherit</field>
        <field name="model">product.product</field>
        <field name="inherit_id" ref="product.product_normal_form_view"/>
        <field name="arch" type="xml">
            <group name="vendors" position="before">
                <group string="Proveedor principal" name="main_supplier" >
                    <field name="main_supplier_id" />
                </group>
            </group>
        </field>
    </record>

    <record id="product_unreceived_items" model="ir.ui.view">
        <field name="name">product.unreceived.items.product.form</field>
        <field name="model">product.product</field>
        <field name="inherit_id" ref="stock.product_form_view_procurement_button"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_view_stock_move_lines']" position="after">
                <button string="Unreceived Items" icon="fa-sign-in" class="oe_stat_button" name="get_unreceived_items" type="object"/>
            </xpath>
            <header position="inside">
                <button name="button_compute_last_sales" type="object" string="Compute Last Sales"/>
            </header>
        </field>
    </record>

    <record id="action_product_purchase_custom_all" model="ir.actions.act_window">
        <field name="name">Product Purchase Info</field>
        <field name="res_model">product.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <!-- force empty -->
        <field name="view_id" ref="purchase_product_custom_tree"></field>
        <field name="context"></field>
        <field name="domain">[('purchase_ok', '=', True), ('type', '=', 'product')]</field>
    </record>

    <menuitem id="menu_action_product_purchase_custom_all" name="Products Purchase Info"
              parent="purchase.menu_purchase_control" sequence="50"
              action="action_product_purchase_custom_all" groups="purchase.group_purchase_manager"
    />

</odoo>
