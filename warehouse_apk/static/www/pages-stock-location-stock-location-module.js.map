{"version":3,"sources":["./src/app/pages/stock-location/stock-location.page.html","./src/app/pages/stock-location/stock-location.module.ts","./src/app/pages/stock-location/stock-location.page.scss","./src/app/pages/stock-location/stock-location.page.ts"],"names":[],"mappings":"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","file":"pages-stock-location-stock-location-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <app-scanner-header [disabled_reader]=\\\"true\\\" slot=\\\"end\\\"></app-scanner-header>\\n    <ion-title>Detalles de la ubicación</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card *ngIf=\\\"location_data\\\">\\n\\n    <ion-card-header>\\n      <ion-card-title>{{location_data.display_name}}</ion-card-title>\\n    </ion-card-header>\\n  \\n    <ion-card-content>\\n      <div *ngIf=\\\"location_data.company_id[1]\\\"><strong>Compañía: </strong>{{location_data.company_id[1]}}</div>\\n      <div [ngSwitch]=\\\"location_data.usage\\\">\\n        <strong>Tipo: </strong>\\n        <!-- <ion-text *ngSwitchCase=\\\"'supplier'\\\">Ubicación de proveedor</ion-text> -->\\n        <ion-text *ngSwitchCase=\\\"'view'\\\">Ver</ion-text>\\n        <ion-text *ngSwitchCase=\\\"'internal'\\\">Ubicación interna</ion-text>\\n        <!-- <ion-text *ngSwitchCase=\\\"'customer'\\\">Ubicación de cliente</ion-text>\\n        <ion-text *ngSwitchCase=\\\"'inventory'\\\">Ubicación de inventario</ion-text>\\n        <ion-text *ngSwitchCase=\\\"'procurement'\\\">Abastecimiento</ion-text> -->\\n        <ion-text *ngSwitchCase=\\\"'production'\\\">Producción</ion-text>\\n        <ion-text *ngSwitchCase=\\\"'transit'\\\">Ubicación de tránsito</ion-text>\\n      </div>\\n      <ion-row>\\n        <ion-col>\\n          <ion-button (click)=\\\"open_link('stock', location_data.id)\\\" expand=\\\"block\\\">Stock actual</ion-button>\\n        </ion-col>\\n        <ion-col>\\n          <ion-button (click)=\\\"open_link('product', location_data.id)\\\" expand=\\\"block\\\">Productos</ion-button>\\n          </ion-col>\\n      </ion-row>\\n    </ion-card-content>\\n  \\n  </ion-card>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StockLocationPage } from './stock-location.page';\n\nimport { SharedModule } from '../../shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StockLocationPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedModule\n  ],\n  entryComponents: [],\n  declarations: [StockLocationPage]\n})\nexport class StockLocationPageModule {}\n","export default \"ion-col {\\n  cursor: pointer;\\n}\\nion-col.success {\\n  color: var(--ion-color-success);\\n}\\nion-col.danger {\\n  color: var(--ion-color-danger);\\n}\\nion-col.primary {\\n  color: var(--ion-color-primary);\\n}\\nion-col.secondary {\\n  color: var(--ion-color-secondary);\\n}\\nion-col.tertiary {\\n  color: var(--ion-color-tertiary);\\n}\\nion-col.medium {\\n  color: var(--ion-color-medium);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tpa28vaW9uaWM0L3dhcmVob3VzZV9tYW5hZ2VyX2Fwa18xMS9zcmMvYXBwL3BhZ2VzL3N0b2NrLWxvY2F0aW9uL3N0b2NrLWxvY2F0aW9uLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvc3RvY2stbG9jYXRpb24vc3RvY2stbG9jYXRpb24ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBbUJJLGVBQUE7QUNqQko7QURESTtFQUNJLCtCQUFBO0FDR1I7QURESTtFQUNJLDhCQUFBO0FDR1I7QURESTtFQUNJLCtCQUFBO0FDR1I7QURESTtFQUNJLGlDQUFBO0FDR1I7QURESTtFQUNJLGdDQUFBO0FDR1I7QURESTtFQUNJLDhCQUFBO0FDR1IiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zdG9jay1sb2NhdGlvbi9zdG9jay1sb2NhdGlvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29sIHtcbiAgICAmLnN1Y2Nlc3Mge1xuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXN1Y2Nlc3MpO1xuICAgIH1cbiAgICAmLmRhbmdlciB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbiAgICB9XG4gICAgJi5wcmltYXJ5IHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICB9XG4gICAgJi5zZWNvbmRhcnkge1xuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gICAgfVxuICAgICYudGVydGlhcnkge1xuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXRlcnRpYXJ5KTtcbiAgICB9XG4gICAgJi5tZWRpdW0ge1xuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG4gICAgfVxuICAgIGN1cnNvcjogcG9pbnRlcjtcbn0iLCJpb24tY29sIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuaW9uLWNvbC5zdWNjZXNzIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zdWNjZXNzKTtcbn1cbmlvbi1jb2wuZGFuZ2VyIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xufVxuaW9uLWNvbC5wcmltYXJ5IHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn1cbmlvbi1jb2wuc2Vjb25kYXJ5IHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xufVxuaW9uLWNvbC50ZXJ0aWFyeSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItdGVydGlhcnkpO1xufVxuaW9uLWNvbC5tZWRpdW0ge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { OdooService } from '../../services/odoo.service';\nimport { AudioService } from '../../services/audio.service';\nimport { StockService } from '../../services/stock.service';\nimport { VoiceService } from '../../services/voice.service';\n\n@Component({\n  selector: 'app-stock-location',\n  templateUrl: './stock-location.page.html',\n  styleUrls: ['./stock-location.page.scss'],\n})\nexport class StockLocationPage implements OnInit {\n\n  location: number;\n  location_data: {};\n\n  constructor(\n    private odoo: OdooService,\n    public router: Router,\n    public alertCtrl: AlertController,\n    private route: ActivatedRoute,\n    private audio: AudioService,\n    private stock: StockService,\n    private voice: VoiceService\n  ) { }\n\n  ngOnInit() {\n    this.odoo.isLoggedIn().then((data)=>{\n      if (data==false) {\n        this.router.navigateByUrl('/login');\n      } else {\n        var location = this.route.snapshot.paramMap.get('id');\n        this.voice.voice_command_refresh$.subscribe(data => {\n          this.voice_command_check();\n        });\n        this.get_location_info(location);\n      }\n    })\n    .catch((error)=>{\n      this.presentAlert('Error al comprobar tu sesión:', error);\n    });\n  }\n\n  async presentAlert(titulo, texto) {\n    this.audio.play('error');\n    const alert = await this.alertCtrl.create({\n        header: titulo,\n        subHeader: texto,\n        buttons: ['Ok']\n    });\n    await alert.present();\n  }\n\n  get_location_info(location) {\n    this.stock.get_location_info(location).then((data)=>{\n      this.location_data = data[0];\n      this.audio.play('click');   \n    })\n    .catch((error)=>{\n      this.presentAlert('Error al recuperar el location:', error);\n    });\n  }\n\n  open_link(type, location_id){\n    if (type == 'stock') {\n      this.router.navigateByUrl('/stock-quant-list/'+location_id);\n    } else {\n      this.router.navigateByUrl('/stock-location-product-list/'+location_id);\n    } \n  }\n\n  // Voice command\n\n  voice_command_check() {\n    console.log(\"voice_command_check\");\n    console.log(this.voice.voice_command);\n    if (this.voice.voice_command) {\n      let voice_command_register = this.voice.voice_command;\n      console.log(\"Recibida orden de voz: \" + voice_command_register);\n      \n      if (this.check_if_value_in_responses(\"stock\", voice_command_register)) {\n        console.log(\"Stock\");\n        this.router.navigateByUrl('/stock-quant-list/'+this.location['id']);\n      } else if (this.check_if_value_in_responses(\"productos\", voice_command_register)){\n        console.log(\"Productos\");\n        this.router.navigateByUrl('/stock-location-product-list/'+this.location['id']);\n      }\n    }\n  }\n\n  check_if_value_in_responses(value, dict) {\n    if(value == dict[0] || value == dict[1] || value == dict[2]) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n}\n"],"sourceRoot":"webpack:///"}