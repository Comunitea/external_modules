{"version":3,"sources":["./src/app/components/picking-list/picking-list.component.html","./src/app/pages/stock-picking-list/stock-picking-list.page.html","./src/app/components/picking-list/picking-list.component.scss","./src/app/components/picking-list/picking-list.component.ts","./src/app/pages/stock-picking-list/stock-picking-list.module.ts","./src/app/pages/stock-picking-list/stock-picking-list.page.scss","./src/app/pages/stock-picking-list/stock-picking-list.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,qjCAAs/B,mBAAmB,oHAAoH,qBAAqB,uHAAuH,0BAA0B,uKAAuK,qBAAqB,4GAA4G,kPAAkP,ucAAuc,E;;;;;;;;;;;;ACAnxE;AAAe,6gCAA88B,E;;;;;;;;;;;;ACA79B;AAAe,yEAAU,oBAAoB,GAAG,mBAAmB,oCAAoC,GAAG,kBAAkB,mCAAmC,GAAG,mBAAmB,oCAAoC,GAAG,qBAAqB,sCAAsC,GAAG,oBAAoB,qCAAqC,GAAG,kBAAkB,mCAAmC,GAAG,sDAAsD,oCAAoC,oBAAoB,KAAK,0BAA0B,8BAA8B,KAAK,GAAG,6CAA6C,mvEAAmvE,E;;;;;;;;;;;;;;;;;;ACAxyF;AAChB;AAOzC;IAOE,8BAAmB,MAAc;QAAd,WAAM,GAAN,MAAM,CAAQ;IAAI,CAAC;IAEtC,uCAAQ,GAAR,cAAY,CAAC;IAEb,wCAAS,GAAT,UAAU,OAAO,EAAE,IAAI;QACrB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB,GAAC,OAAO,GAAC,GAAG,GAAC,IAAI,CAAC,CAAC;IAChE,CAAC;;gBAN0B,sDAAM;;IALxB;QAAR,2DAAK,EAAE;;uDAAU;IACT;QAAR,2DAAK,EAAE;;sDAAS;IACR;QAAR,2DAAK,EAAE;;oEAAuB;IAJpB,oBAAoB;QALhC,+DAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;YAC5B,2PAA4C;;SAE7C,CAAC;uFAQ2B,sDAAM;OAPtB,oBAAoB,CAehC;IAAD,2BAAC;CAAA;AAfgC;;;;;;;;;;;;;;;;;;;;;;;;;ACRQ;AACM;AACF;AACU;AAEV;AAEoB;AAC2B;AAElC;AAE1D,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,6EAAoB;KAChC;CACF,CAAC;AAaF;IAAA;IAAyC,CAAC;IAA7B,0BAA0B;QAXtC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,kEAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,eAAe,EAAE,CAAE,oGAAoB,CAAE;YACzC,YAAY,EAAE,CAAE,6EAAoB,EAAE,oGAAoB,CAAE;SAC7D,CAAC;OACW,0BAA0B,CAAG;IAAD,iCAAC;CAAA;AAAH;;;;;;;;;;;;;AC9BvC;AAAe,+EAAgB,oBAAoB,sCAAsC,oBAAoB,GAAG,oCAAoC,oCAAoC,GAAG,6CAA6C,++BAA++B,E;;;;;;;;;;;;;;;;;;;;;;ACA1pC;AACJ;AACW;AACV;AACE;AACA;AAO5D;IAkBE,8BACU,IAAiB,EAClB,MAAc,EACb,KAAqB,EACtB,SAA0B,EACzB,KAAmB,EACnB,KAAmB;QALnB,SAAI,GAAJ,IAAI,CAAa;QAClB,WAAM,GAAN,MAAM,CAAQ;QACb,UAAK,GAAL,KAAK,CAAgB;QACtB,cAAS,GAAT,SAAS,CAAiB;QACzB,UAAK,GAAL,KAAK,CAAc;QACnB,UAAK,GAAL,KAAK,CAAc;QAE3B,IAAI,OAAO,GAAG,EAAC,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAC;QAC1I,IAAI,CAAC,WAAW,GAAG;YACf,OAAO,EAAG,CAAC,CAAC,OAAO,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;YACtC,SAAS,EAAE,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC;YACtD,MAAM,EAAE,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,UAAU,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC,EAAE,CAAC,gBAAgB,EAAE,GAAG,EAAE,IAAI,IAAI,EAAE,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;YACrI,YAAY,EAAE,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,SAAS,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,cAAc,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;SACvG;QACD,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAED,uCAAQ,GAAR;QAAA,iBAcC;QAbC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAC,IAAI;YAC/B,IAAI,IAAI,IAAE,KAAK,EAAE;gBACf,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;aACrC;iBAAM;gBACL,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAC9D,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAC9D,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAC7D,KAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;QACH,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAK;YACX,KAAI,CAAC,YAAY,CAAC,+BAA+B,EAAE,KAAK,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+CAAgB,GAAhB,UAAiB,GAAW;QAC1B,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;QAC3B,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACrC,CAAC;IAEK,2CAAY,GAAlB,UAAmB,MAAM,EAAE,KAAK;;;;;;wBAC9B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;wBACX,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gCACtC,MAAM,EAAE,MAAM;gCACd,SAAS,EAAE,KAAK;gCAChB,OAAO,EAAE,CAAC,IAAI,CAAC;6BAClB,CAAC;;wBAJI,KAAK,GAAG,SAIZ;wBACF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACvB;IAED,+CAAgB,GAAhB,UAAiB,MAAW;QAA5B,iBAqBC;QArBgB,sCAAW;QAC1B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,UAAC,YAAsB;YACnJ,KAAI,CAAC,QAAQ,GAAG,YAAY,CAAC;YAC7B,IAAI,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,EAAE;gBAC1D,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACxE,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,kBAAkB,CAAC,CAAC;aACtC;YACD,IAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,EAAE,EAAC;gBACvC,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,IAAI,CAAC,EAAC;gBACzC,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB,GAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAC,GAAG,GAAC,KAAI,CAAC,YAAY,CAAC,CAAC;aAC3F;YACD,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3B,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAK;YACX,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,KAAI,CAAC,YAAY,CAAC,iDAAiD,EAAE,KAAK,CAAC,CAAC;QAC9E,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iDAAkB,GAAlB,UAAmB,EAAM;QACvB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;QAC9B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACrC,CAAC;IAED,iBAAiB;IAEjB,uCAAQ,GAAR,UAAS,KAAK;QAAd,iBAYC;QAXC,UAAU,CAAC;YACT,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;YACtC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxB,KAAI,CAAC,gCAAgC,EAAE,CAAC;YAExC,+CAA+C;YAC/C,kCAAkC;YAClC,IAAI,KAAI,CAAC,aAAa,EAAE;gBACtB,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;aAC9B;QACH,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,+DAAgC,GAAhC;QAAA,iBAYC;QAXC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAC,IAAc;YAChJ,IAAI,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC;YACvD,IAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,EAAE,EAAC;gBAC/B,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC3B;YACD,KAAI,IAAI,CAAC,IAAI,IAAI;gBAAE,KAAI,CAAC,QAAQ,CAAC,cAAc,GAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACrE,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAK;YACX,KAAI,CAAC,YAAY,CAAC,iDAAiD,EAAE,KAAK,CAAC,CAAC;QAC9E,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mDAAoB,GAApB;QACE,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;IAC/D,CAAC;;gBA/Ge,kEAAW;gBACV,sDAAM;gBACN,8DAAc;gBACX,8DAAe;gBAClB,oEAAY;gBACZ,oEAAY;;IAtBiB;QAA7C,+DAAS,CAAC,gEAAiB,EAAE,EAAC,MAAM,EAAC,KAAK,EAAC,CAAC;gFAAiB,gEAAiB;gEAAC;IAFrE,oBAAoB;QALhC,+DAAS,CAAC;YACT,QAAQ,EAAE,wBAAwB;YAClC,8PAA6C;;SAE9C,CAAC;uFAoBgB,kEAAW;YACV,sDAAM;YACN,8DAAc;YACX,8DAAe;YAClB,oEAAY;YACZ,oEAAY;OAxBlB,oBAAoB,CAoIhC;IAAD,2BAAC;CAAA;AApIgC","file":"pages-stock-picking-list-stock-picking-list-module.js","sourcesContent":["export default \"<ion-grid *ngIf=\\\"not_allowed_fields\\\">\\n\\n  <ion-row>\\n    <ion-col *ngIf=\\\"not_allowed_fields.indexOf('display_name') == -1\\\">\\n        <div><strong>Nombre</strong></div>\\n    </ion-col>\\n    \\n    <ion-col *ngIf=\\\"not_allowed_fields.indexOf('location_id') == -1\\\">\\n        <div><strong>Origen</strong></div>\\n    </ion-col>\\n\\n    <ion-col *ngIf=\\\"not_allowed_fields.indexOf('location_dest_id') == -1\\\">\\n      <div><strong>Destino</strong></div>\\n    </ion-col>\\n    \\n    <ion-col *ngIf=\\\"not_allowed_fields.indexOf('scheduled_date') == -1\\\" class=\\\"ion-align-self-center ion-text-center\\\">\\n      <div><strong>Previsto</strong></div>\\n    </ion-col>\\n    <ion-col *ngIf=\\\"not_allowed_fields.indexOf('state') == -1\\\" class=\\\"ion-align-self-center ion-text-center\\\">\\n      <div><strong>Estado</strong></div>\\n    </ion-col>\\n  </ion-row>\\n\\n  <ion-row *ngFor=\\\"let pick of picks\\\" (click)=\\\"open_link(pick.id, code)\\\">\\n    <ion-col *ngIf=\\\"not_allowed_fields.indexOf('display_name') == -1\\\">\\n      <div>{{pick.display_name}}</div>\\n    </ion-col>\\n    \\n    <ion-col *ngIf=\\\"not_allowed_fields.indexOf('location_id') == -1\\\">\\n      <div>{{pick.location_id[1]}}</div>\\n    </ion-col>\\n  \\n    <ion-col *ngIf=\\\"not_allowed_fields.indexOf('location_dest_id') == -1\\\">\\n      <div>{{pick.location_dest_id[1]}}</div>\\n    </ion-col>\\n    \\n    <ion-col *ngIf=\\\"not_allowed_fields.indexOf('scheduled_date') == -1\\\" class=\\\"ion-align-self-center ion-text-center\\\">\\n      <div>{{pick.scheduled_date}}h</div>\\n    </ion-col>\\n  \\n    <ion-col *ngIf=\\\"not_allowed_fields.indexOf('state') == -1\\\"  [ngClass]=\\\"{'success': pick.state == 'done',\\n    'danger': pick.state == 'cancel', \\n    'primary': pick.state == 'assigned', \\n    'secondary': pick.state == 'confirmed', \\n    'tertiary': pick.state == 'waiting', \\n    'medium': pick.state == 'draft'}\\\" [ngSwitch]=\\\"pick.state\\\" class=\\\"ion-align-self-center ion-text-center\\\">\\n      <div *ngSwitchCase=\\\"'draft'\\\">Borrador</div>\\n      <div *ngSwitchCase=\\\"'waiting'\\\">Faltan operaciones</div>\\n      <div *ngSwitchCase=\\\"'confirmed'\\\">En espera</div>\\n      <div *ngSwitchCase=\\\"'assigned'\\\">Preparado</div>\\n      <div *ngSwitchCase=\\\"'done'\\\">Hecho</div>\\n      <div *ngSwitchCase=\\\"'cancel'\\\">Cancel</div>\\n    </ion-col>\\n  </ion-row>\\n</ion-grid>\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Listado de operaciones</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-content>\\n      <ion-row>\\n        <ion-toolbar>\\n          <ion-searchbar type=\\\"text\\\" (ionInput)=\\\"get_search_results($event)\\\" autocomplete=\\\"on\\\" showCancelButton=\\\"always\\\"></ion-searchbar>\\n        </ion-toolbar>\\n      </ion-row>\\n\\n      <app-picking-list [code]=\\\"current_code\\\" [not_allowed_fields]=\\\"not_allowed_fields\\\" [picks]=\\\"pickings\\\"></app-picking-list>\\n\\n      <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n        <ion-infinite-scroll-content\\n          loadingSpinner=\\\"bubbles\\\"\\n          loadingText=\\\"Cargando más productos...\\\">\\n        </ion-infinite-scroll-content>\\n      </ion-infinite-scroll>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\";","export default \"ion-col {\\n  cursor: pointer;\\n}\\nion-col.success {\\n  color: var(--ion-color-success);\\n}\\nion-col.danger {\\n  color: var(--ion-color-danger);\\n}\\nion-col.primary {\\n  color: var(--ion-color-primary);\\n}\\nion-col.secondary {\\n  color: var(--ion-color-secondary);\\n}\\nion-col.tertiary {\\n  color: var(--ion-color-tertiary);\\n}\\nion-col.medium {\\n  color: var(--ion-color-medium);\\n}\\n/* Medias */\\n@media screen and (max-width: 576px) {\\n  ion-grid > ion-row:first-child {\\n    display: none;\\n  }\\n\\n  ion-grid > ion-row {\\n    border: 1px black solid;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tpa28vaW9uaWM0L3dhcmVob3VzZV9tYW5hZ2VyX2Fwa18xMS9zcmMvYXBwL2NvbXBvbmVudHMvcGlja2luZy1saXN0L3BpY2tpbmctbGlzdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9waWNraW5nLWxpc3QvcGlja2luZy1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBbUJJLGVBQUE7QUNqQko7QURESTtFQUNJLCtCQUFBO0FDR1I7QURESTtFQUNJLDhCQUFBO0FDR1I7QURESTtFQUNJLCtCQUFBO0FDR1I7QURESTtFQUNJLGlDQUFBO0FDR1I7QURESTtFQUNJLGdDQUFBO0FDR1I7QURESTtFQUNJLDhCQUFBO0FDR1I7QURFQSxXQUFBO0FBQ0E7RUFDSTtJQUNJLGFBQUE7RUNDTjs7RURDRTtJQUNJLHVCQUFBO0VDRU47QUFDRiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcGlja2luZy1saXN0L3BpY2tpbmctbGlzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb2wge1xuICAgICYuc3VjY2VzcyB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XG4gICAgfVxuICAgICYuZGFuZ2VyIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xuICAgIH1cbiAgICAmLnByaW1hcnkge1xuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgIH1cbiAgICAmLnNlY29uZGFyeSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICB9XG4gICAgJi50ZXJ0aWFyeSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItdGVydGlhcnkpO1xuICAgIH1cbiAgICAmLm1lZGl1bSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcbiAgICB9XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4vKiBNZWRpYXMgKi9cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU3NnB4KSB7XG4gICAgaW9uLWdyaWQgPiBpb24tcm93OmZpcnN0LWNoaWxkIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgaW9uLWdyaWQgPiBpb24tcm93IHtcbiAgICAgICAgYm9yZGVyOiAxcHggYmxhY2sgc29saWQ7XG4gICAgfVxufSIsImlvbi1jb2wge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5pb24tY29sLnN1Y2Nlc3Mge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXN1Y2Nlc3MpO1xufVxuaW9uLWNvbC5kYW5nZXIge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG59XG5pb24tY29sLnByaW1hcnkge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufVxuaW9uLWNvbC5zZWNvbmRhcnkge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG59XG5pb24tY29sLnRlcnRpYXJ5IHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci10ZXJ0aWFyeSk7XG59XG5pb24tY29sLm1lZGl1bSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcbn1cblxuLyogTWVkaWFzICovXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1NzZweCkge1xuICBpb24tZ3JpZCA+IGlvbi1yb3c6Zmlyc3QtY2hpbGQge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICBpb24tZ3JpZCA+IGlvbi1yb3cge1xuICAgIGJvcmRlcjogMXB4IGJsYWNrIHNvbGlkO1xuICB9XG59Il19 */\";","import { Component, OnInit, Input } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-picking-list',\n  templateUrl: './picking-list.component.html',\n  styleUrls: ['./picking-list.component.scss'],\n})\nexport class PickingListComponent implements OnInit {\n\n  @Input() picks: {}\n  @Input() code: {}\n  @Input() not_allowed_fields: {}\n  ngSwitch: any\n\n  constructor(public router: Router) { }\n\n  ngOnInit() {}\n\n  open_link(pick_id, code){\n    this.router.navigateByUrl('/stock-picking/'+pick_id+'/'+code);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StockPickingListPage } from './stock-picking-list.page';\nimport { PickingListComponent } from '../../components/picking-list/picking-list.component';\n\nimport { SharedModule } from '../../shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StockPickingListPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],  \n  entryComponents: [ PickingListComponent ],\n  declarations: [ StockPickingListPage, PickingListComponent ]\n})\nexport class StockPickingListPageModule {}\n","export default \"ion-icon.icon {\\n  font-size: 45px;\\n  color: var(--ion-color-secondary);\\n  cursor: pointer;\\n}\\n\\nion-col.selected ion-icon.icon {\\n  color: var(--ion-color-primary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tpa28vaW9uaWM0L3dhcmVob3VzZV9tYW5hZ2VyX2Fwa18xMS9zcmMvYXBwL3BhZ2VzL3N0b2NrLXBpY2tpbmctbGlzdC9zdG9jay1waWNraW5nLWxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zdG9jay1waWNraW5nLWxpc3Qvc3RvY2stcGlja2luZy1saXN0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7RUFDQSxpQ0FBQTtFQUNBLGVBQUE7QUNDSjs7QURHSTtFQUNJLCtCQUFBO0FDQVIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zdG9jay1waWNraW5nLWxpc3Qvc3RvY2stcGlja2luZy1saXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pY29uLmljb24ge1xuICAgIGZvbnQtc2l6ZTogNDVweDtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG5pb24tY29sLnNlbGVjdGVkIHtcbiAgICBpb24taWNvbi5pY29uIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICB9XG59IiwiaW9uLWljb24uaWNvbiB7XG4gIGZvbnQtc2l6ZTogNDVweDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbmlvbi1jb2wuc2VsZWN0ZWQgaW9uLWljb24uaWNvbiB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59Il19 */\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AlertController, IonInfiniteScroll } from '@ionic/angular';\nimport { OdooService } from '../../services/odoo.service';\nimport { AudioService } from '../../services/audio.service';\nimport { StockService } from '../../services/stock.service';\n\n@Component({\n  selector: 'app-stock-picking-list',\n  templateUrl: './stock-picking-list.page.html',\n  styleUrls: ['./stock-picking-list.page.scss'],\n})\nexport class StockPickingListPage implements OnInit {\n\n  @ViewChild(IonInfiniteScroll, {static:false}) infiniteScroll: IonInfiniteScroll;\n\n  offset: number;\n  limit: number;\n  limit_reached: boolean;\n  pickings: {};\n  picking_state: string;\n  picking_types: {};\n  current_type_id: string;\n  view_domain: {};\n  view_selector: string;\n  search: string;\n  current_code: string;\n  scanner_reading: string;\n  not_allowed_fields: {};\n\n  constructor(\n    private odoo: OdooService,\n    public router: Router,\n    private route: ActivatedRoute,\n    public alertCtrl: AlertController,\n    private audio: AudioService,\n    private stock: StockService\n  ) {\n    let options = {day: 'numeric', month: 'numeric', year: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric', hourCycle: 'h24'}\n    this.view_domain = {\n        'ready' : [['state', '=', 'assigned']],\n        'waiting': [['state', 'in', ['waiting', 'confirmed']]],\n        'late': [['state', 'in', ['assigned', 'waiting', 'confirmed']], ['scheduled_date', '<', new Date().toLocaleString('es-ES', options)]],\n        'backorders': [['state', 'in', ['waiting', 'confirmed', 'assigned']], ['backorder_id', '!=', false]]\n    }\n    this.offset = 0;\n    this.limit = 25;\n    this.limit_reached = false;\n  }\n\n  ngOnInit() {\n    this.odoo.isLoggedIn().then((data)=>{\n      if (data==false) {\n        this.router.navigateByUrl('/login');\n      } else {\n        this.current_type_id = this.route.snapshot.paramMap.get('id');\n        this.view_selector = this.route.snapshot.paramMap.get('view');\n        this.current_code = this.route.snapshot.paramMap.get('code');\n        this.get_picking_list();\n      }\n    })\n    .catch((error)=>{\n      this.presentAlert('Error al comprobar tu sesión:', error);\n    });\n  }\n\n  onReadingEmitted(val: string) {\n    this.scanner_reading = val;\n    this.search = val;\n    this.get_picking_list(this.search);\n  }\n\n  async presentAlert(titulo, texto) {\n    this.audio.play('error');\n    const alert = await this.alertCtrl.create({\n        header: titulo,\n        subHeader: texto,\n        buttons: ['Ok']\n    });\n    await alert.present();\n  }\n  \n  get_picking_list(search=null){\n    this.offset = 0;\n    this.limit_reached = false;\n    this.stock.get_picking_list(this.view_domain[this.view_selector], this.current_type_id, this.offset, this.limit, search).then((picking_list:Array<{}>)=> {\n      this.pickings = picking_list;\n      if (this.pickings[0] && this.pickings[0]['picking_fields']) {\n        this.not_allowed_fields = this.pickings[0]['picking_fields'].split(',');\n        console.log(this.not_allowed_fields);\n      }\n      if(Object.keys(picking_list).length < 25){\n        this.limit_reached = true;\n      }\n      if (Object.keys(this.pickings).length == 1){\n        this.router.navigateByUrl('/stock-picking/'+this.pickings[0]['id']+'/'+this.current_code);\n      }\n      this.audio.play('click');\n    })\n    .catch((error) => {\n      console.log(error);\n      this.presentAlert('Error al recuperador el listado de operaciones:', error);\n    });\n  }\n\n  get_search_results(ev:any){\n    this.search = ev.target.value;\n    this.get_picking_list(this.search);\n  }\n\n  // Infinitescroll\n\n  loadData(event) {\n    setTimeout(() => {\n      console.log('Loading more locations');\n      event.target.complete();\n      this.picking_list_infinite_scroll_add();\n\n      // App logic to determine if all data is loaded\n      // and disable the infinite scroll\n      if (this.limit_reached) {\n        event.target.disabled = true;\n      }\n    }, 500);\n  }\n\n  picking_list_infinite_scroll_add(){\n    this.offset += this.limit;\n    this.stock.get_picking_list(this.view_domain[this.view_selector], this.current_type_id, this.offset, this.limit, this.search).then((data:Array<{}>)=> {\n      let current_length = Object.keys(this.pickings).length;\n      if(Object.keys(data).length < 25){\n        this.limit_reached = true;\n      }\n      for(var k in data) this.pickings[current_length+Number(k)]=data[k];\n    })\n    .catch((error) => {\n      this.presentAlert('Error al recuperador el listado de operaciones:', error);\n    });\n  }\n\n  toggleInfiniteScroll() {\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\n  }\n\n}"],"sourceRoot":"webpack:///"}