{"version":3,"sources":["./src/app/pages/move-form/move-form.page.html","./src/app/pages/move-form/move-form.module.ts","./src/app/pages/move-form/move-form.page.scss","./src/app/pages/move-form/move-form.page.ts"],"names":[],"mappings":"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","file":"pages-move-form-move-form-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"cmnt-front\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button class=\\\"cmnt-front\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <app-scanner-header  class=\\\"cmnt-back\\\" slot=\\\"end\\\">Movimiento</app-scanner-header>\\n    <ion-title  class=\\\"cmnt-button\\\" *ngIf=\\\"data\\\" style=\\\"padding-inline-end: 2px; padding-inline-start: 2px;\\\">\\n      {{data.picking_id.name}}\\n    </ion-title>\\n\\n          \\n  </ion-toolbar>\\n</ion-header>\\n<ion-content *ngIf=\\\"data\\\">\\n  <ion-card >\\n\\n    <ion-card-header>\\n    <ion-row>\\n        <ion-col class=\\\"link\\\" (click)=\\\"GetMoveInfo(data.id, -1)\\\">Anterior\\n        </ion-col>\\n        \\n        <!-- <ion-col *ngIf=\\\"data.ready_to_validate\\\" class=\\\"link\\\" (click)=\\\"button_validate(data.picking_id.id)\\\">Validar\\n        </ion-col> -->\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <span *ngIf=\\\"data && data.active_location_id\\\">{{data.active_location_id.name}}</span>\\n        </ion-col>\\n        <ion-col class=\\\"link ion-text-right\\\" (click)=\\\"GetMoveInfo(data.id, +1)\\\">Siguiente\\n        </ion-col>\\n      </ion-row>\\n\\n\\n      <ion-card-title class=\\\"ion-text-center\\\">{{data.product_id.name}}</ion-card-title>\\n      <ion-card-title class=\\\"ion-text-right\\\"> \\n      </ion-card-title>\\n    </ion-card-header>\\n  \\n    <ion-card-content class=\\\"ion-text-center\\\">\\n\\n      <div class=\\\"product_img\\\" class=\\\"ion-text-center\\\" *ngIf=\\\"data.image\\\">\\n        <ion-img *ngIf=\\\"data.base64\\\" src=\\\"data:image/jpeg;base64,{{ data.product_id.image}}\\\" ></ion-img>\\n        <!--ion-img *ngIf=\\\"!data.base64\\\" src=\\\"{{ data.product_id.image }}\\\"></ion-img-->\\n      </div>\\n      <!--div><strong>{{data.sale_id && (data.sale_id['name'] + \\\": \\\")}}</strong>{{data.picking_id['id'] && data.picking_id['display_name']}}</div-->\\n      <!--div><strong>{{data.location_id.name}} >> {{data.location_dest_id.name}}</strong></div-->\\n      <!-- <div [ngSwitch]=\\\"data.tracking\\\">\\n        <strong *ngSwitchCase=\\\"'none'\\\">Sin tracking</strong>\\n        <strong *ngSwitchCase=\\\"'lot'\\\">Por lotes</strong>\\n        <strong *ngSwitchCase=\\\"'serial'\\\">Por serie</strong>\\n      </div> -->\\n      <ion-row> \\n        <ion-col size=\\\"5\\\"class=\\\"ion-text-left\\\"><strong>{{data.product_id.default_code || data.product_id.barcode}}</strong></ion-col>\\n        <ion-col size=\\\"2\\\"class=\\\"ion-text-right\\\"><strong>Cant: </strong></ion-col>\\n        <ion-col size=\\\"4\\\"class=\\\"ion-text-right\\\"><ion-badge class=\\\"primary\\\" style=\\\"vertical-align: bottom\\\">  {{data.quantity_done}} de {{data.product_uom_qty}} {{data.product_uom.name}} </ion-badge></ion-col>\\n      </ion-row>\\n      <ion-row *ngIf=\\\"data.state.value != 'cancel' && data.state.value != 'done' && data.move_line_ids.length == 1 && data.tracking.value == 'none'\\\">\\n      </ion-row>\\n\\n      <!--div *ngIf=\\\"data.state.value != 'cancel' && data.state.value != 'done' && data.tracking.value !='none'\\\">\\n        <div>\\n          <ion-badge class=\\\"primary\\\"> {{data.quantity_done}} de {{data.product_uom_qty}} </ion-badge> \\n        </div>\\n        <strong>Lotes/Serie:</strong>\\n        <div *ngFor=\\\"let lot of data.lot_ids\\\">\\n          {{lot.name}}\\n        </div>\\n      </div-->\\n\\n      <!--div *ngIf=\\\"new_lots\\\">\\n        <strong>Añadiendo:</strong>\\n        <div *ngFor=\\\"let lot of new_lots\\\">\\n          {{lot[0]}}\\n        </div>\\n      </div-->\\n      <ion-row *ngIf=\\\"data.state.value != 'done'\\\">\\n        <!--BOTON VOLVER-->\\n        <ion-col class=\\\"action-button\\\"><ion-button (click)=\\\"go_back()\\\"><ion-icon class=\\\"primary\\\" name=\\\"arrow-undo-circle-outline\\\" ></ion-icon></ion-button></ion-col>\\n        <!--BOTON OPCIONES AVANZADAS-->\\n        <ion-col class=\\\"action-button\\\"><ion-button (click)=\\\"PresentMenuOptions()\\\"><ion-icon class=\\\"primary\\\" name=\\\"ellipsis-vertical-outline\\\" ></ion-icon></ion-button></ion-col>\\n        <!--BOTON MOSTRASR LINEAS/LOTES-->\\n        <ion-col *ngIf=\\\"data.tracking.value != 'none'\\\" class=\\\"action-button\\\"><ion-button (click)= \\\"AlternateShowLots()\\\"><ion-icon class=\\\"primary\\\" name=\\\"eye-outline\\\" ></ion-icon></ion-button></ion-col>\\n        <!--BOTON VOLVER BORRAR LOTES ????-->\\n        <ion-col *ngIf=\\\"data.move_line_count ==1 && data.tracking.value == 'none'\\\" class=\\\"action-button\\\">\\n          <ion-button><ion-icon class=\\\"primary\\\" name=\\\"remove-circle-outline\\\" (click)=\\\"GetMoveInfo(data.id, -1)\\\"></ion-icon></ion-button>\\n        </ion-col>\\n        <!--BOTON VALIDAR-->\\n        <ion-col>\\n          <ion-button *ngIf=\\\"data.picking_field_status && ['partially_available', 'assigned'].indexOf(data.state.value) != -1\\\" (click)=\\\"DoMoveValidate()\\\">\\n            <ion-icon class=\\\"primary {{'state_'+ data.state.value}}\\\" name=\\\"checkmark-done-circle-outline\\\" ></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <!--BOTON SIGUIENTE-->\\n        <ion-col class=\\\"action-button\\\" *ngIf=\\\"data.move_line_count ==1 && data.tracking.value == 'none'\\\">\\n          <ion-button><ion-icon class=\\\"primary\\\" name=\\\"add-circle-outline\\\" (click)=\\\"GetMoveInfo(data.id, +1)\\\"></ion-icon></ion-button>\\n        </ion-col>\\n        <ion-col class=\\\"action-button\\\" style=\\\"max-width: 40px; align-self: flex-end\\\">\\n          <ion-icon size=\\\"large\\\" class=\\\"{{'state_'+ data.state.value}}\\\"  name=\\\"{{StateIcon[data.state.value]}}\\\"></ion-icon>\\n        </ion-col>\\n\\n      </ion-row>\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card *ngIf=\\\"data.state.value != 'done' && AdvanceOptions && data\\\">\\n    <ion-card-header>\\n      <ion-card-title class=\\\"ion-text-center\\\">Opciones avanzadas: </ion-card-title>\\n      <ion-card-content>\\n        <ion-row>\\n          <ion-col>\\n          <span class='product-link'> Progreso: </span>{{data.field_status && 'Preparado' || 'No preparado'}} \\n          </ion-col>\\n          <ion-col>\\n          <span class='product-link'> Estado: </span>{{data.state.name}} \\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n          <span class='product-link'> Origen: </span>{{data.location_id.name}} \\n          </ion-col>\\n          <ion-col>\\n          <span class='product-link'> Destino: </span>{{data.location_dest_id.name}} \\n          </ion-col>\\n        </ion-row>\\n      </ion-card-content>\\n    </ion-card-header>\\n    <ion-card-content>\\n      \\n      <ion-row>\\n        <!--ion-col class=\\\"action-button\\\">\\n          <ion-button (click)= \\\"AlternateShowLots()\\\"><ion-icon class=\\\"primary\\\" name=\\\"eye-outline\\\" ></ion-icon></ion-button>\\n        </ion-col-->\\n        <!--BOTON VOLVER-->\\n        <ion-col class=\\\"action-button\\\">\\n          <ion-button *ngIf=\\\"data.state.value=='done'\\\"><ion-icon class=\\\"secondary\\\" name=\\\"checkmark-done-circle-outline\\\" ></ion-icon></ion-button>\\n        </ion-col>\\n        <!--BOTON ACTION_ASSING>\\n\\n        <ion-col class=\\\"action-button\\\" *ngIf=\\\"['partially_available', 'confirmed'].indexOf(data.state.value) != -1\\\">\\n          <ion-button (click)=\\\"ActionAssign(data.id)\\\"><ion-icon class=\\\"primary\\\" name=\\\"checkmark-outline\\\"></ion-icon></ion-button>\\n        </ion-col>\\n        <BOTON DO_UNRESERVE>\\n        <ion-col *ngIf=\\\"['partially_available', 'assigned', 'confirmed'].indexOf(data.state.value) != -1\\\" class=\\\"action-button\\\">\\n          <ion-button (click)=\\\"ActionUnReserve(data.id)\\\"><ion-icon class=\\\"primary\\\" name=\\\"trash-outline\\\" ></ion-icon></ion-button>\\n        </ion-col-->\\n\\n        <ion-col *ngIf=\\\"move_lots && 'done' != data.state.value && data.tracking.value != 'none'\\\" class=\\\"action-button\\\">\\n          <ion-button ><ion-icon class=\\\"primary\\\" name=\\\"flash-off-outline\\\" ></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <!--BOTON BORRA LOS LOTES, PERO NO LOS MOVIMIENTOS>\\n        <ion-col (click)=\\\"CleanLots(data.id)\\\" *ngIf=\\\"data.tracking.value != 'none' && 'done' != data.state.value\\\" class=\\\"action-button\\\">\\n          <ion-button ><ion-icon class=\\\"primary\\\" name=\\\"reload-circle-outline\\\"></ion-icon></ion-button>\\n        </ion-col>\\n        <BOTON NUEVA LINEA>\\n        <ion-col (click)=\\\"CreateNewSmlId(data.id)\\\" *ngIf=\\\"data.tracking.value != 'serial' && ['draft', 'done'].indexOf(data.state.value) != 0\\\" class=\\\"action-button\\\">\\n          <ion-button ><ion-icon class=\\\"primary\\\" name=\\\"duplicate-outline\\\"></ion-icon></ion-button>\\n        </ion-col-->\\n\\n      </ion-row>\\n    </ion-card-content>\\n  </ion-card>\\n  <div *ngIf=\\\"data.state.value != 'done' && data && ShowLots\\\">\\n    <ion-card >\\n      <ion-card-header>\\n        <ion-card-title *ngIf=\\\"ChangeLotNames && LotNames.length > 0\\\" class=\\\"ion-text-center\\\">\\n          <ion-button (click)=\\\"ActionApplyLotNames()\\\">\\n            <ion-icon class=\\\"primary\\\" name=\\\"checkmark-done-circle-outline\\\" ></ion-icon></ion-button>\\n          </ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n        <ion-row>\\n            <ion-col size=\\\"12\\\" *ngFor=\\\"let lot of LotNames\\\">\\n              <ion-row>\\n                <ion-col size=\\\"10\\\" class=\\\"ion-text-center\\\" >\\n                  <span class=\\\"product-link\\\" style=\\\"font-size: large\\\"><strong>{{lot}}</strong></span>\\n                </ion-col>\\n                <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\" >\\n                  <ion-icon (click) = \\\"ChangeLineLotId(data['id'], false, lot, false)\\\" \\n                  *ngIf=\\\"data.state.value != done\\\" size=\\\"small\\\" color = \\\"danger\\\" \\n                  style=\\\"vertical-align: bottom state_icon\\\" name=\\\"trash-outline\\\"></ion-icon>\\n                </ion-col>\\n              </ion-row>\\n              <!--ion-icon  size=\\\"small\\\" style=\\\"vertical-align: bottom state_icon\\\" class=\\\"{{'state_'+ sml.state.value}}\\\" name=\\\"{{StateIcon[sml.state.value]}}\\\"></ion-icon-->\\n            </ion-col>\\n           </ion-row>\\n        <!--ion-card-title class=\\\"ion-text-center\\\" (click) = \\\"ChangeLineLotId(data['id'], false, lot, false)\\\">{{lot}}</ion-card-title-->\\n      </ion-card-content>\\n    </ion-card>\\n\\n   \\n\\n    <ion-card *ngIf=\\\"data.state.value != 'done' && LotNames.length == 0\\\">\\n      <ion-card-header>\\n        <ion-card-title class=\\\"ion-text-center\\\">\\n          Esperando Serial/Lote\\n        </ion-card-title>\\n      </ion-card-header>\\n    </ion-card>\\n  </div>\\n  <div *ngIf=\\\"data && ShowMoves\\\">\\n    <ion-card *ngFor=\\\"let sml of data.move_line_ids\\\">\\n      <!--ion-card-header>\\n        <ion-card-title class=\\\"ion-text-center\\\">{{sml.field_status_apk}} / {{data.tracking.value}} // </ion-card-title>\\n      </ion-card-header-->\\n      <ion-card-content class=\\\"sml_not_done\\\">\\n          <ion-row [ngClass]=\\\"{'success': sml.state.value=='done'}\\\"> \\n            <!-- BORRAR LINEA -->\\n            <ion-col size=\\\"1\\\" class=\\\"ion-text-right state_icon\\\" *ngIf=\\\"AdvanceOptions && data.state.value != done\\\">\\n              <ion-icon (click) = \\\"RemoveMoveLineId(sml.id)\\\" size=\\\"small\\\" color = \\\"danger\\\" style=\\\"vertical-align: bottom state_icon\\\" name=\\\"trash-outline\\\"></ion-icon>\\n              <!--ion-icon  size=\\\"small\\\" style=\\\"vertical-align: bottom state_icon\\\" class=\\\"{{'state_'+ sml.state.value}}\\\" name=\\\"{{StateIcon[sml.state.value]}}\\\"></ion-icon-->\\n            </ion-col>\\n            <!-- ORIGEN --> \\n            <ion-col \\n            (click) =\\\"ChangeLineLocationId(sml)\\\"\\n            *ngIf=\\\"read_status(sml.field_status_apk, 'location_id', 'view')\\\"\\n              [ngClass]=\\\"{'sml_done': read_status(sml.field_status_apk, 'location_id', 'done')}\\\"\\n              size-xs=\\\"3\\\" size-sm=\\\"2\\\" size-md=\\\"2\\\">\\n              <div>{{sml.location_id.name}}</div>\\n              <div *ngIf=\\\"read_status(sml.field_status_apk, 'package_id', 'view')\\\">P:{{sml.package_id && sml.package_id.name}} </div>\\n            </ion-col>\\n            <!-- DESTINO-->\\n            <ion-col \\n              (click) =\\\"ChangeLineLocationId(sml)\\\"\\n              *ngIf=\\\"read_status(sml.field_status_apk, 'location_dest_id', 'view')\\\"\\n              [ngClass]=\\\"{'sml_done': read_status(sml.field_status_apk, 'location_dest_id', 'done')}\\\" size-xs=\\\"3\\\" size-sm=\\\"2\\\" size-md=\\\"2\\\">\\n              <div>{{sml.location_dest_id.name}}</div>\\n              <div *ngIf=\\\"read_status(sml.field_status_apk, 'result_package_id', 'view')\\\">P:{{sml.result_package_id && sml.result_package_id.name}}</div>\\n            </ion-col>\\n            <!-- LOTE -->\\n            <ion-col  style=\\\"text-align: center\\\"\\n             (click) =\\\"ChangeLineLotId(data['id'],sml.id, sml.lot_id && sml.lot_id.name, false)\\\"\\n             *ngIf=\\\"data.tracking.value != 'none' && read_status(sml.field_status_apk, 'lot_id', 'view')\\\" \\n              [ngClass]=\\\"{'sml_done': read_status(sml.field_status_apk, 'lot_id', 'done')}\\\"\\n              size-xs=\\\"5\\\" size-sm=\\\"4\\\" size-md=\\\"4\\\">\\n              {{sml.lot_id && sml.lot_id.name || 'Lote' }}\\n            </ion-col>\\n\\n            <!--CANTIDAD -->\\n            <ion-col  size-xs=\\\"2\\\" size-sm=\\\"1\\\" size-md=\\\"1\\\" *ngIf=\\\"data.tracking.value != 'serial' && read_status(sml.field_status_apk, 'qty_done', 'view')\\\" class=\\\"ion-text-center\\\">\\n                <ion-badge class=\\\"link\\\" (click)=\\\"ChangeQty(sml, -1)\\\" style=\\\"padding: 3px; margin-right: 15px\\\"> <ion-icon class=\\\"primary\\\" name=\\\"remove-circle-outline\\\"></ion-icon> </ion-badge>\\n                <ion-badge [ngClass]=\\\"{'back_state_draft': QtyDirty === true}\\\" (click)=\\\"InputQty('Cantidad', sml)\\\" > {{sml.qty_done}} de  {{sml.product_uom_qty}}</ion-badge>\\n                <ion-badge class=\\\"link\\\" (click)=\\\"ChangeQty(sml, +1)\\\" style=\\\"padding: 3px; margin-left: 15px\\\"> <ion-icon class=\\\"primary\\\" name=\\\"add-circle-outline\\\"></ion-icon> </ion-badge>\\n            </ion-col>\\n            <!--BOTONES-->\\n          </ion-row>\\n          \\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n  <!--div *ngIf=\\\"data && data.tracking.value=='none'\\\">\\n    <ion-card *ngFor=\\\"let sml of data.move_line_ids\\\">\\n      <ion-card-content>\\n              <ion-row [ngClass]=\\\"{'success': sml.qty_done == sml.product_uom_qty}\\\">\\n              <ion-col size-xs=\\\"6\\\" size-sm=\\\"2\\\" size-md=\\\"2\\\">{{sml.location_id.name}}</ion-col>\\n              <ion-col size-xs=\\\"6\\\" size-sm=\\\"2\\\" size-md=\\\"2\\\">\\n                <ion-badge class=\\\"link\\\" (click)=\\\"ChangeQty(-1)\\\" style=\\\"margin-right: 15px\\\"> - </ion-badge>\\n                <ion-badge > {{sml.qty_done}} </ion-badge>\\n                <ion-badge class=\\\"link\\\" (click)=\\\"ChangeQty(+1)\\\" style=\\\"margin-left: 15px\\\"> + </ion-badge>\\n              </ion-col>\\n              <ion-col>{{StateIcon[sml.state.value]}}\\n                <ion-icon  size=\\\"small\\\" style=\\\"vertical-align: bottom\\\" class=\\\"{{'state_'+ sml.state.value}}\\\" name=\\\"{{StateIcon[sml.state.value]}}\\\"></ion-icon>\\n              </ion-col>\\n            </ion-row>      \\n      </ion-card-content>\\n    </ion-card>\\n  </div-->\\n</ion-content>\\n\\n<app-scanner-footer (scanner_reading_changed)=\\\"onReadingEmitted($event)\\\" [scanner_reading]=\\\"scanner_reading\\\"></app-scanner-footer>\\n\\n<ng-template #lineDoneTemplate>\\n  <ion-col><strong>Cantidad: </strong><br/>\\n    <ion-badge class=\\\"secondary\\\"> {{data.quantity_done}} de {{data.product_uom_qty}} </ion-badge>\\n  </ion-col>\\n</ng-template>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MoveFormPage } from './move-form.page';\n\nimport { SharedModule } from '../../shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MoveFormPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedModule\n  ],\n  declarations: [MoveFormPage]\n})\nexport class MoveFormPageModule {}\n","export default \"ion-img {\\n  max-width: 100px;\\n  max-height: 100px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 100px;\\n}\\n\\n.link {\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tpa28vaW9uaWM0L3dhcmVob3VzZV9tYW5hZ2VyX2Fwa18xMS9zcmMvYXBwL3BhZ2VzL21vdmUtZm9ybS9tb3ZlLWZvcm0ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9tb3ZlLWZvcm0vbW92ZS1mb3JtLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbW92ZS1mb3JtL21vdmUtZm9ybS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taW1nIHtcbiAgICBtYXgtd2lkdGg6IDEwMHB4O1xuICAgIG1heC1oZWlnaHQ6IDEwMHB4O1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICB3aWR0aDogMTAwcHg7XG59XG5cbi5saW5re1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn0iLCJpb24taW1nIHtcbiAgbWF4LXdpZHRoOiAxMDBweDtcbiAgbWF4LWhlaWdodDogMTAwcHg7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIHdpZHRoOiAxMDBweDtcbn1cblxuLmxpbmsge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */\";","import { Component, OnInit, Input, ViewChild, HostListener } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Storage } from '@ionic/storage';\nimport { AlertController, ActionSheetController } from '@ionic/angular';\nimport { OdooService } from '../../services/odoo.service';\nimport { AudioService } from '../../services/audio.service';\nimport { StockService } from '../../services/stock.service';\nimport { Location } from '@angular/common';\nimport { LoadingController } from '@ionic/angular';\nimport { ScannerFooterComponent } from '../../components/scanner/scanner-footer/scanner-footer.component';\nimport { identifierModuleUrl } from '@angular/compiler';\n// import { setMaxListeners } from 'cluster';\nimport { ScannerService } from '../../services/scanner.service';\n\n\n@Component({\n  selector: 'app-move-form',\n  templateUrl: './move-form.page.html',\n  styleUrls: ['./move-form.page.scss'],\n})\n\n\n\nexport class MoveFormPage implements OnInit {\n\n  @ViewChild(ScannerFooterComponent) ScannerFooter: ScannerFooterComponent;\n\n  @Input() scanner_reading: string;\n\n\n\n  moves: any;\n  data: {};\n  placeholder: string;\n  move: BigInteger;\n  qty_done: BigInteger;\n  loading: any;\n  new_lots: any;\n  LastReading: string;\n  StateIcon: {};\n  TrackingIcon: {};\n  WaitingLot: boolean;\n  AdvanceOptions: boolean;\n  LotNames: any;\n  ChangeLotNames: boolean;\n  ShowLots: boolean;\n  ShowMoves: boolean;\n  WaitingQty: boolean;\n  ActiveLine: any;\n  FirstLoad: boolean;\n  DirtyLines: boolean;\n  QtyDirty: boolean;\n\n  @HostListener('document:keydown', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n    if ( this.stock.GetModelInfo('App', 'ActivePage') === 'MoveFormPage') {\n    this.scanner.key_press(event);\n    this.scanner.timeout.then((val) => {\n      this.onReadingEmitted(val);\n    });\n  }\n  }\n\n  constructor(\n    private scanner: ScannerService,\n    private odoo: OdooService,\n    public router: Router,\n    public alertCtrl: AlertController,\n    private route: ActivatedRoute,\n    private audio: AudioService,\n    public stock: StockService,\n    private storage: Storage,\n    private location: Location,\n    public loadingController: LoadingController,\n    public actionSheetController: ActionSheetController\n\n  ) {\n    this.moves = ['up', 'down', 'left', 'right'];\n  }\n\n  CreateButtons() {\n    const Id = this.data['id'];\n    const State = this.data['state'].value;\n    const Tracking = this.data['tracking'].value;\n\n    // tslint:disable-next-line:prefer-const\n    let buttons = [{\n      text: '',\n      icon: 'close',\n      role: 'Cancelar',\n      handler: () => {\n        console.log('Cancel clicked');\n      }\n    }];\n    if (this.data) {\n      if (['partially_available', 'confirmed'].indexOf(State) !== -1) {\n        const button = {\n          text: 'Reservar',\n          icon: '',\n          role: '',\n          handler: () => {\n            this.ActionAssign(Id);\n          }\n        };\n        buttons.push(button);\n      }\n      if (['partially_available', 'assigned', 'confirmed'].indexOf(State) !== -1) {\n        const button = {\n          text: 'Quitar reserva',\n          icon: '',\n          role: '',\n          handler: () => {\n            this.ActionUnReserve(Id);\n          }\n        };\n        buttons.push(button);\n      }\n\n\n      if (this.LotNames && 'done' !== State && Tracking !== 'none'){\n        const button = {\n          text: 'Borrar lotes',\n          icon: '',\n          role: '',\n          handler: () => {\n            this.CleanLots(Id);\n          }\n        };\n        buttons.push(button);\n      }\n      if (this.LotNames && 'done' !== State && Tracking !== 'none'){\n        const button = {\n            text: 'Nuevo',\n            icon: '',\n            role: '',\n            handler: () => {\n              this.CreateNewSmlId(Id);\n            }\n          };\n        buttons.push(button);\n      }\n      // buttons.push(button);\n      // buttons.push(buttonReset);\n\n    }\n\n    return buttons;\n  }\n  async PresentMenuOptions() {\n    this.audio.play('click');\n    const actionSheet = await this.actionSheetController.create({\n      buttons: this.CreateButtons()\n    });\n\n    await actionSheet.present();\n  }\n  ionViewDidEnter(){\n    this.stock.SetModelInfo('App', 'ActivePage', 'MoveFormPage');\n    this.InitVars();\n    const move = this.route.snapshot.paramMap.get('id');\n    this.GetMoveInfo(move);\n    \n  }\n\n  ngOnInit() {\n    this.odoo.isLoggedIn().then((data) => {\n      if (data === false) {\n        this.router.navigateByUrl('/login');\n      } else {\n        this.storage.get('CONEXION').then((con) => {\n          this.placeholder = con.url + '/web/static/src/img/placeholder.png';\n        })\n        .catch((error) => {\n          this.presentAlert('Error al comprobar tu sesión:', error);\n        });\n        this.InitVars();\n        const move = this.route.snapshot.paramMap.get('id');\n        this.GetMoveInfo(move);\n      }\n    })\n    .catch((error) => {\n      this.presentAlert('Error al comprobar tu sesión:', error);\n    });\n  }\n  InitVars() {\n    this.StateIcon = this.stock.getStateIcon('stock.move');\n    this.FirstLoad = true;\n    this.QtyDirty = false;\n    this.InitData();\n\n\n  }\n  InitData() {\n    this.ChangeLotNames = false;\n    this.LotNames = [];\n  }\n  read_status(field, campo, propiedad) {\n    return this.stock.read_status(field, campo, propiedad);\n  }\n\n  AlternateShowLots() {\n    this.audio.play('click');\n    this.ShowLots = !this.ShowLots;\n    this.ShowMoves = !this.ShowLots;\n  }\n\n  AlternateAdvanceOptions() {\n    this.audio.play('click');\n    this.AdvanceOptions = !this.AdvanceOptions;\n  }\n  go_back() {\n    this.audio.play('click');\n    this.location.back();\n  }\n\n  GetMovesDone(moves, value= true) {\n    return moves.filter(move => this.stock.read_status(move['field_status_apk'], 'qty_done', 'done') === value);\n  }\n\n  GetMovesToChangeLoc(moves, confirm=false) {\n    const loc = this.data['default_location'].value;\n    // Si confirmar:\n    // filtro los movimeintos que ya tienen esa ubicación y no hechos\n    if (confirm){\n      return moves.filter(move => (this.stock.read_status(move['field_status_apk'], loc , 'done') === true) &&\n      (this.stock.read_status(move['field_status_apk'], 'qty_done' , 'done') === false));\n    }\n    // Si no confirmo filtro los movimeintos:\n    // que ya tienen ubicación y no están hechos\n    // y los que no tengan ubicación\n    return moves.filter(move =>\n      (this.stock.read_status(move['field_status_apk'], loc , 'done') === false) ||\n      (this.stock.read_status(move['field_status_apk'], loc , 'done') === true) &&\n      (this.stock.read_status(move['field_status_apk'], 'qty_done' , 'done') === false));\n  }\n\n  onReadingEmitted(val: string) {\n    if (this.moves.includes(val)) {\n      this.page_controller(val);\n    } else {\n      this.scanner_reading = val;\n      this.process_reading();\n    }\n  }\n\n  // Navigation\n\n  page_controller(direction) {\n    if (direction === 'up') {\n      console.log('up');\n      this.router.navigateByUrl('/stock-picking/' + this.data['picking_id']['id'] + '/' + this.data['picking_id']['code']) ;\n    } else if (direction === 'down') {\n      console.log('down');\n      if (this.data['ready_to_validate']){\n        this.button_validate(this.data['picking_id']['id']);\n      } else {\n        this.action_confirm();\n      }\n    } else if (direction === 'left') {\n      console.log('left');\n      this.GetMoveInfo(this.data['id'], -1);\n    } else if (direction === 'right') {\n      console.log('right');\n      this.GetMoveInfo(this.data['id'], +1);\n    }\n  }\n\n  async presentAlert(titulo, texto) {\n    const alert = await this.alertCtrl.create({\n        header: titulo,\n        subHeader: texto,\n        buttons: ['Ok'],\n\n    });\n    await alert.present();\n  }\n\n  async InputQty(titulo, SmlId)\n  {\n    this.audio.play('click');\n    if (this.data['state'].value === 'done') {return; }\n    if (this.QtyDirty) {\n      const values = {qty_done: SmlId['qty_done']};\n      this.UpdateSmlIdField(SmlId['id'], values);\n      this.QtyDirty = false;\n      return;\n    }\n    const Qty = SmlId['qty_done'] || SmlId['product_uom_qty'];\n    const alert = await this.alertCtrl.create({\n      header: 'Cantidad',\n      subHeader: '',\n      inputs: [{name: 'qty_done',\n               value: Qty,\n               type: 'number',\n               id: 'qty-id',\n               placeholder: SmlId['qty_done']}],\n      buttons: [{\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            console.log('Confirm Cancel');\n          }\n        }, {\n          text: 'Aplicar',\n          handler: (data) => {\n            if (SmlId['qty_done'] !== data['qty_done']) {\n              const values = {qty_done: data['qty_done']};\n              this.UpdateSmlIdField(SmlId['id'], values);\n            }\n          }\n        }],\n  });\n    await alert.present();\n  }\n\n  UpdateSmlIdField(SmlId, values){\n    if (this.data['state'].value === 'done') {return; }\n    this.stock.UpdateSmlIdField(this.data['id'], SmlId, values).then((data) => {\n      if (data) {\n        this.apply_move_data(data);\n      }\n      })\n    .catch((error) => {\n      this.presentAlert('Error al escribor en el movimiento:', error);\n    });\n  }\n\n\n\n  ChangeQty(SmlId, qty) {\n    this.audio.play('click');\n    if (this.data['state'].value === 'done') {return; }\n    this.QtyDirty = true;\n    if (qty === 0) {\n      if (SmlId['qty_done'] === 0){\n        SmlId['qty_done'] = SmlId['product_uom_qty']; }\n      else {SmlId['qty_done'] = 0; }\n    }\n    // tslint:disable-next-line:one-line\n    else {\n      if (!(SmlId['qty_done'] < 1 && qty === -1)) {\n      SmlId['qty_done'] += qty; }\n\n    }\n  }\n\n  apply_move_data(data) {\n    this.InitData();\n    console.log(data);\n    if (data['image'] === false) {\n      data['base64'] = false;\n      // data['image'] = this.placeholder;\n    } else {\n      data['base64'] = true;\n    }\n    this.data = data;\n\n    console.log(this.data);\n    for (const sml of data['move_line_ids']) {\n      if (sml.lot_id.id) {\n        this.LotNames.push(sml.lot_id.name);\n      }\n    }\n    if (this.FirstLoad) {\n      if (this.data['state'].value !== 'done') {\n        this.ShowLots = this.data['tracking'].value === 'serial';\n        this.ShowMoves = this.data['tracking'].value !== 'serial';\n        this.FirstLoad = false; }\n      else{\n        this.ShowLots = false;\n        this.ShowMoves = true;\n        this.FirstLoad = false;\n      }\n\n    }\n    // this.audio.play('click');\n    if (data['message']){this.presentAlert('Odoo', data['message']); }\n\n  }\n  GetMoveInfo(move, index = 0) {\n    this.stock.GetMoveInfo(move, index).then((data) => {\n      this.apply_move_data(data);\n    })\n    .catch((error) => {\n      this.presentAlert('Error al recuperar el movimiento:', error);\n    });\n  }\n\n  DoMoveValidate(){\n    if (this.data['state'].value === 'done') {return; }\n    this.stock.DoMoveValidate(this.data['picking_id'].id, this.data['id'] ).then((data) => {\n      if (data){this.apply_move_data(data); }\n    })\n    .catch((error) => {\n      this.presentAlert('Error al validar el albarán:', error);\n    });\n  }\n\n\n  action_confirm() {\n    if (this.data['tracking'] === 'none') {\n      this.stock.set_move_qty_done_from_apk(this.data['id'], this.data['quantity_done']).then((LinesData) => {\n        console.log(LinesData);\n        this.GetMoveInfo(this.data['id'], +1);\n      })\n      .catch((error) => {\n        this.presentAlert('Error al validar el albarán:', error);\n      });\n    }\n    // else if (this.data['tracking'] != 'none' && this.new_lots){\n    // this.update_lots();\n    // }\n  }\n\n  button_validate(PickingId) {\n    this.audio.play('click');\n    this.presentLoading();\n    this.stock.button_validate(Number(PickingId)).then((LinesData) => {\n      if (LinesData && LinesData['err'] === false) {\n        console.log('Reloading');\n        this.loading.dismiss();\n        this.location.back();\n      } else if (LinesData['err'] !== false) {\n        this.loading.dismiss();\n        this.presentAlert('Error al validar el albarán:', LinesData['err']);\n      }\n    })\n    .catch((error) => {\n      this.loading.dismiss();\n      this.presentAlert('Error al validar el albarán:', error);\n    });\n  }\n\n  async presentLoading() {\n    this.loading = await this.loadingController.create({\n      message: 'Validando...',\n      translucent: true,\n      cssClass: 'custom-class custom-loading'\n    });\n    await this.loading.present();\n  }\n\n  update_lots() {\n    this.stock.CreateMoveLots(this.data['id'], this.new_lots, this.data['active_location_id'].id).then((data) => {\n      this.GetMoveInfo(this.data['id']);\n    })\n    .catch((error) => {\n      this.presentAlert('Error al validar el albarán:', error);\n    });\n  }\n\n  done_status(field) {\n    this.data['field_status_apk'] = this.stock.write_status(this.data['field_status_apk'], field, 'done');\n  }\n\n  CreateNewSmlId(SmId){\n    if (this.data['state'].value === 'done') {return; }\n    this.stock.CreateNewSmlId(SmId).then((data) => {\n      if (data) {\n        this.reset_scanner() ;\n        this.apply_move_data(data);\n        if (data['warning']) {this.presentAlert('Odoo', data['warning']); }\n      }\n      })\n    .catch((error) => {\n      this.presentAlert('Error al borrar el movieminto:', error);\n    });\n  }\n\n  RemoveMoveLineId(SmlId) {\n\n    if (this.data['state'].value === 'done') {return; }\n    this.stock.RemoveMoveLineId(this.data['id'], SmlId).then((data) => {\n      if (data) {\n        this.reset_scanner() ;\n        this.apply_move_data(data);\n        if (data['warning']) {this.presentAlert('Odoo', data['warning']); }\n      }\n      })\n    .catch((error) => {\n      this.presentAlert('Error al borrar el movieminto:', error);\n    });\n  }\n\n  ProcessProductId() {\n    if (this.data['state'].value === 'done') {return; }\n    this.audio.play('click');\n    const SmlIds = this.data['move_line_ids'].filter(\n      move => (this.data['active_location_id'].id === move[this.data['default_location'].value].id));\n    if (SmlIds){\n      // Si hay un sml_id\n      // entonces\n      // Escribo el producto y l aubicación con ok. y ademas le sumo una a la cantidad\n      const SmlId = SmlIds[0];\n      SmlId['field_status_apk'] = this.stock.write_status(SmlId['field_status_apk'], 'product_id', 'done');\n      SmlId['field_status_apk'] = this.stock.write_status(SmlId['field_status_apk'], this.data['default_location'], 'done');\n      this.ChangeQty(SmlId, 1);\n    }\n\n  }\n\n  ProcessLocation(barcode) {\n    if (this.data['state'].value === 'done') {return; }\n    const field = this.data['default_location'].value;\n    // Miro si coincide con algún ucbicaión delos movimientos\n    const confirm = this.LastReading === this.scanner_reading;\n    const MovesToUpdate = this.GetMovesToChangeLoc(this.data['move_line_ids'], confirm);\n    const SmlIds = [];\n    for (const move of MovesToUpdate) {SmlIds.push(move['id']); }\n    const values = {  move_id: this.data['id'],\n                      field: this.data['default_location'].value,\n                      value: this.data['active_location_id']['id'],\n                      sml_ids: SmlIds};\n    this.stock.AssignLocationToMoves(this.data['id'],\n                                     SmlIds,\n                                     this.data['default_location'].value,\n                                     this.data['active_location_id']['id'],\n                                     barcode,\n                                     confirm)\n      .then((data) => {\n        if (data) {\n          this.reset_scanner() ;\n          this.apply_move_data(data);\n          if (data['warning']) {this.presentAlert('Odoo', data['warning']); }\n        }\n        })\n      .catch((error) => {\n        this.presentAlert('Error al asignar las ubicaciones al los movimientos pendientes:', error);\n      });\n\n\n  }\n  AssignLocationId(MoveId, LocationId, LocationField) {\n    if (this.data['state'].value === 'done') {return; }\n    this.stock.AssignLocationId(MoveId, LocationId, LocationField).then((data) => {\n      if (data) {\n        this.reset_scanner() ;\n        this.apply_move_data(data); }\n    })\n    .catch((error) => {\n      this.presentAlert('Error al asignar las ubicaciones de origen del movimiento:', error);\n    });\n  }\n\n  ProcessLocationId(LocationId = '') {\n    if (this.data['default_location'].value === 'location_id') {\n      this.AssignLocationId(this.data['id'], this.data['default_location_id']['id'], 'location_id');\n    }\n  // Escribo en todos los que no tengan la ubicación como hecha la que pone, y además la marco como hecha\n  }\n  ProcessLocationDestId(LocationDestId = '') {\n    if (this.data['default_location'].value === 'location_dest_id') {\n      this.AssignLocationId(this.data['id'], this.data['active_location_id'].id, 'location_dest_id');\n    // Escribo en todos los que no tengan la ubicación como hecha la que pone, y además la marco como hecha\n    // this.data.field_status_apk = this.stock.write_status(this.data.field_status_apk, 'location_dest_id', 'done')\n    }\n  }\n\n  ActionAssign(MoveId) {\n    if (this.data['state'].value === 'done') {return; }\n    this.audio.play('click');\n    this.stock.ActionAssign(MoveId).then((data) => {\n      if (data) {\n        this.reset_scanner() ;\n        this.apply_move_data(data); }\n    })\n    .catch((error) => {\n      this.presentAlert('Error al quitar la reserva del movimiento:', error);\n    });\n  }\n\n  CleanLots(MoveId) {\n    if (this.data['state'].value === 'done') {return; }\n    this.audio.play('click');\n    this.stock.CleanLots(MoveId).then((data) => {\n      if (data) {\n        this.reset_scanner() ;\n        this.apply_move_data(data); }\n    })\n    .catch((error) => {\n      this.presentAlert('Error al quitar los lotes del movimiento:', error);\n    });\n  }\n\n  ActionUnReserve(MoveId) {\n    if (this.data['state'].value === 'done') {return; }\n    this.audio.play('click');\n    this.stock.MoveUnReserve(MoveId).then((data) => {\n      if (data) {\n        this.reset_scanner() ;\n        this.apply_move_data(data); }\n    })\n    .catch((error) => {\n      this.presentAlert('Error al quitar la reserva del movimiento:', error);\n    });\n  }\n\n  async ChangeLineLocationId(SmlId){\n    if (this.data['state'].value === 'done') {return; }\n    if (this.data['state'].value === 'done') {return; }\n    const alert = await this.alertCtrl.create({\n      header: 'Ubicación',\n      subHeader: '',\n      inputs: [{name: 'barcode',\n               type: 'text',\n               id: 'read_barcode'}],\n      buttons: [{\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n          }}\n        , {\n          text: 'Aplicar',\n          handler: (data) => {\n            const values = {new_location_barcode: data['barcode']};\n            this.UpdateSmlIdField(SmlId, values);\n          }\n        }],\n      });\n    await alert.present();\n  }\n\n  ChangeLineLotId(MoveId= false, SmlId= false, OldLotName= false, NewLotId= false) {\n    if (this.data['state'].value === 'done') {return; }\n    this.audio.play('click');\n    if (!MoveId){MoveId = this.data['id'];}\n    if (this.data['state'].value !== 'done'){\n      this.stock.ChangeLineLotId(MoveId, SmlId, OldLotName, NewLotId).then((data) => {\n        if (data) {\n          this.reset_scanner() ;\n          this.apply_move_data(data); }\n      })\n      .catch((error) => {\n        this.presentAlert('Error al actualizar el lote del movimeinto:', error);\n      });\n\n    }\n    return;\n\n  }\n\n  BacthLot() {\n    // Booleano que indica cuando lo que se va aleer es un lote:\n    if (!this.ShowLots) { return false; }\n    return true;\n  }\n  ProcessLotId(){\n    return this.ProcessSerialId();\n    if (this.data['state'].value === 'done') {return; }\n    const LotName = this.scanner_reading;\n    const SmlIds = this.data['move_line_ids'].filter( move => (move['lot_id'] && move['lot_id']['name'] === LotName));\n    if (SmlIds) {\n      for (const SmlId of SmlIds) {\n        SmlId['field_status_apk'] = this.stock.write_status(SmlId['field_status_apk'], 'lot_id', 'done');\n        const values = {field_status_apk: SmlId['field_status_apk']};\n        this.UpdateSmlIdField(SmlId, values);\n      }\n    }\n  }\n  ProcessSerialId() {\n    if (this.data['state'].value === 'done') {return; }\n    const LotsToAdd = this.scanner_reading.split(',');\n    const LotsToCheck = [];\n\n    for (const lot of LotsToAdd) {\n      if (this.LotNames.indexOf(lot) === -1) {\n        this.LotNames.push(lot);\n        this.ChangeLotNames = true; }\n      else {\n        LotsToCheck.push(lot);\n        }\n     }\n    if (LotsToCheck.length > 0){\n      this.ActionApplyLotNames(LotsToCheck);\n    }\n  }\n  SetWaitingQty(SmlId){\n    this.ActiveLine = SmlId;\n    this.WaitingQty = true;\n  }\n  ActionApplyLotNames(LotNames) {\n    if (this.data['state'].value === 'done') {return; }\n    LotNames = LotNames || this.LotNames;\n    // Saco la lista de lotes que no están los movimientos\n    // Las lita de lotes siempre es la original más los que añado, por lo que tengo que quitar los de los movmientos\n    if (this.LotNames.length > 0) {\n      this.stock.CreateMoveLots(this.data['id'], LotNames, this.data['location_dest_id'].id).then((data) => {\n        if (data) {\n          this.reset_scanner() ;\n          this.apply_move_data(data); }\n      })\n      .catch((error) => {\n        this.presentAlert('Error al añadir los lotes el albarán:', error);\n      });\n    }\n    return;\n    /* PRUEBO enviando todo y actualizando\n\n    let LotsToCheck = []\n    for (const move of this.data.move_line_ids) {\n      const lot = move.lot_id;\n      if (lot.id) {\n        if (LotsToAdd.indexOf(lot.name) !== -1) {\n          LotsToAdd.pop(lot.name);\n        }\n      }\n    }\n    if (LotsToAdd.length > 0) {\n      this.stock.CreateMoveLots(this.data['id'], LotsToAdd).then((data)=>{\n        this.apply_move_data(data);\n      })\n      .catch((error)=>{\n        this.presentAlert('Error al añadir los lotes el albarán:', error);\n      });\n    }\n    */\n  }\n\n  SearchOtherMoveByScanner(){}\n  reset_scanner() {\n    this.WaitingQty = false;\n    this.ActiveLine = {};\n    this.LastReading = this.scanner_reading;\n    this.ScannerFooter.ScanReader.controls.scan.setValue('');\n    // this.scanner.reset_scan();\n    // this.ScanReader.controls.scan.setValue =''\n  }\n  process_reading() {\n    // Primero buscon en el formulario si coincide con algo y despues decido que hacer\n    // Caso 1. EAN 13\n    // Busco\n    this.audio.play('click');\n    if (this.data['state'].value === 'done') {this.SearchOtherMoveByScanner(); }\n\n\n    else if (eval(this.data['barcode_re']).exec(this.scanner_reading) || /[\\.]\\d{3}[\\.]/.exec(this.scanner_reading) ) {\n      // Leo UBICACION\n      this.ProcessLocation(this.scanner_reading);\n      // if (this.data.default_location.value === 'location_id') {this.ProcessLocationId(this.scanner_reading); }\n      // else if (this.data.default_location.value === 'location_dest_id') {this.ProcessLocationDestId(this.scanner_reading);}\n    }\n\n\n    else if (this.WaitingQty && this.ActiveLine && this.ActiveLine['id']){\n      if (typeof this.scanner_reading) {\n        this.ActiveLine['qty_done'] = this.scanner_reading;\n        this.reset_scanner();\n        return;\n      }\n      this.presentAlert('Error en los datos.', 'El valor introducido ' + this.scanner_reading + 'no es válido');\n      return;\n    }\n    else if (this.data['tracking'].value === 'none' && (this.data['product_id']['default_code'] === this.scanner_reading || this.data['product_id'].barcode === this.scanner_reading)) {\n      this.ProcessProductId();\n\n    }\n    else if (this.data['tracking'].value === 'serial') {\n      this.ProcessSerialId();\n    }\n    else if (this.data['tracking'].value === 'lot') {\n      this.ProcessLotId();\n    }\n    else {\n      this.presentAlert('Aviso', 'No se ha encontrado nada para ' + this.scanner_reading);\n    }\n    this.reset_scanner() ;\n    /*\n    if (this.data['tracking'] == 'none' && Number(this.scanner_reading)) {\n      this.data['quantity_done'] = Number(this.scanner_reading);\n    } else if (this.data['tracking'] != 'none') {\n      if(!this.new_lots){\n        this.new_lots = new Array();\n      }\n      this.new_lots.push([this.scanner_reading, 1]); /* Editar más adelante, serial cantidad = 1, lot cantidad = a introducir */\n      /* Provisional, cuando estén preparada la función para gestionar cantidades en lot_ids editar */\n      /* if (this.data['tracking'] == 'serial') {\n      if (this.data['tracking'] == 'serial' || this.data['tracking'] == 'lot') {\n        this.data['quantity_done']++;\n      }\n    }  */\n  }\n  NavigateStockPicking(PickingId){\n    this.router.navigateByUrl('/stock-picking/' + PickingId);\n  }\n}\n"],"sourceRoot":"webpack:///"}